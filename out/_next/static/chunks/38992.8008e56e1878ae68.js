"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38992,2050],{20230:function(t,e,n){n.d(e,{J:function(){return p}});var i=n(34374),s=n(57200);let r=(t,e,n)=>t&e^~t&n,a=(t,e,n)=>t&e^t&n^e&n;class o extends s.kb{update(t){(0,i.Gg)(this);let{view:e,buffer:n,blockLen:r}=this,a=(t=(0,s.O0)(t)).length;for(let i=0;i<a;){let o=Math.min(r-this.pos,a-i);if(o===r){let e=(0,s.GL)(t);for(;r<=a-i;i+=r)this.process(e,i);continue}n.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,i.Gg)(this),(0,i.J8)(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:r,isLE:a}=this,{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let t=o;t<r;t++)e[t]=0;!function(t,e,n,i){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,i);let s=BigInt(32),r=BigInt(4294967295),a=Number(n>>s&r),o=Number(n&r),u=i?4:0,h=i?0:4;t.setUint32(e+u,a,i),t.setUint32(e+h,o,i)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);let u=(0,s.GL)(t),h=this.outputLen;if(h%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=h/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)u.setUint32(4*t,c[t],a)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:i,finished:s,destroyed:r,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=r,i%e&&t.buffer.set(n),t}constructor(t,e,n,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,s.GL)(this.buffer)}}let u=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),h=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l=new Uint32Array(64);class c extends o{get(){let{A:t,B:e,C:n,D:i,E:s,F:r,G:a,H:o}=this;return[t,e,n,i,s,r,a,o]}set(t,e,n,i,s,r,a,o){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|i,this.E=0|s,this.F=0|r,this.G=0|a,this.H=0|o}process(t,e){for(let n=0;n<16;n++,e+=4)l[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=l[t-15],n=l[t-2],i=(0,s.np)(e,7)^(0,s.np)(e,18)^e>>>3,r=(0,s.np)(n,17)^(0,s.np)(n,19)^n>>>10;l[t]=r+l[t-7]+i+l[t-16]|0}let{A:n,B:i,C:o,D:h,E:c,F:p,G:f,H:g}=this;for(let t=0;t<64;t++){let e=g+((0,s.np)(c,6)^(0,s.np)(c,11)^(0,s.np)(c,25))+r(c,p,f)+u[t]+l[t]|0,d=((0,s.np)(n,2)^(0,s.np)(n,13)^(0,s.np)(n,22))+a(n,i,o)|0;g=f,f=p,p=c,c=h+e|0,h=o,o=i,i=n,n=e+d|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,h=h+this.D|0,c=c+this.E|0,p=p+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(n,i,o,h,c,p,f,g)}roundClean(){l.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=0|h[0],this.B=0|h[1],this.C=0|h[2],this.D=0|h[3],this.E=0|h[4],this.F=0|h[5],this.G=0|h[6],this.H=0|h[7]}}let p=(0,s.hE)(()=>new c)},50276:function(t,e,n){n.d(e,{n:function(){return i}});async function i(t,e){return await t({method:"eth_sendRawTransaction",params:[e]})}},38992:function(t,e,n){n.d(e,{z:function(){return C},sendEip712Transaction:function(){return v},P:function(){return B}});var i=n(68725),s=n(50276),r=n(90874),a=n(14520);function o(t){if(["string","number"].includes(typeof t)&&!Number.isInteger(Number(t)))throw Error("Expected value to be an integer to convert to a bigint, got ".concat(t," of type ").concat(typeof t));return t instanceof Uint8Array?BigInt((0,a.dg)(t)):BigInt(t)}var u=n(2050),h=n(94646),l=n(80695),c=n(73256),p=n(89507),f=n(73596),g=n(8842);let d=32n*n(92525).rU;var y=n(51273);class m extends y.G{constructor({givenLength:t,maxBytecodeSize:e}){super("Bytecode cannot be longer than ".concat(e," bytes. Given length: ").concat(t),{name:"BytecodeLengthExceedsMaxSizeError"})}}class b extends y.G{constructor({givenLengthInWords:t}){super("Bytecode length in 32-byte words must be odd. Given length in words: ".concat(t),{name:"BytecodeLengthInWordsMustBeOddError"})}}class x extends y.G{constructor({givenLength:t}){super("The bytecode length in bytes must be divisible by 32. Given length: ".concat(t),{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}let w=t=>{let e=function(t){var e;let{gas:n,nonce:i,to:s,from:r,value:o,maxFeePerGas:u,maxPriorityFeePerGas:h,paymaster:l,paymasterInput:c,gasPerPubdata:y,data:w,factoryDeps:v}=t;return{txType:113n,from:BigInt(r),to:s?BigInt(s):0n,gasLimit:null!=n?n:0n,gasPerPubdataByteLimit:null!=y?y:50000n,maxFeePerGas:null!=u?u:0n,maxPriorityFeePerGas:null!=h?h:0n,paymaster:l?BigInt(l):0n,nonce:i?BigInt(i):0n,value:null!=o?o:0n,data:w||"0x0",factoryDeps:null!==(e=null==v?void 0:v.map(t=>(0,a.NC)(function(t){let e=(0,f.O0)(t);if(e.length%32!=0)throw new x({givenLength:e.length});if(e.length>d)throw new m({givenLength:e.length,maxBytecodeSize:d});let n=(0,g.J)(e),i=(0,f.O0)(n),s=e.length/32;if(s%2==0)throw new b({givenLengthInWords:s});let r=(0,f.O0)(s),a=(0,p.vk)(r,{size:2}),o=new Uint8Array([1,0]);return i.set(o,0),i.set(a,2),i}(t))))&&void 0!==e?e:[],paymasterInput:c||"0x"}}(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};async function v(t){let{account:e,transaction:n}=t,i=await C(t),a=await B({account:e,eip712Transaction:i,chainId:n.chain.id}),o=(0,r.getRpcClient)(n);return{transactionHash:await (0,s.n)(o,a),chain:n.chain,client:n.client}}async function B(t){let{account:e,eip712Transaction:n,chainId:s}=t,r=w(n),o=await e.signTypedData({...r});return function(t){let{chainId:e,gas:n,nonce:s,to:r,from:o,value:h,maxFeePerGas:l,maxPriorityFeePerGas:c,customSignature:p,factoryDeps:f,paymaster:g,paymasterInput:d,gasPerPubdata:y,data:m}=t,b=[s?(0,a.NC)(s):"0x",c?(0,a.NC)(c):"0x",l?(0,a.NC)(l):"0x",n?(0,a.NC)(n):"0x",null!=r?r:"0x",h?(0,a.NC)(h):"0x",null!=m?m:"0x0",(0,a.NC)(e),(0,a.NC)(""),(0,a.NC)(""),(0,a.NC)(e),null!=o?o:"0x",y?(0,a.NC)(y):(0,a.NC)(50000n),null!=f?f:[],null!=p?p:"0x",g&&d?[g,d]:[]];return(0,u.concatHex)(["0x71",(0,i.LV)(b)])}({...n,chainId:s,customSignature:o})}async function C(t){let{account:e,transaction:n}=t,[i,s,u,p,f,g,d]=await Promise.all([(0,l.encode)(n),(0,h.q)(n.to),(0,h.q)(n.value),(0,h.q)(n.gas),(0,h.q)(n.maxFeePerGas),(0,h.q)(n.maxPriorityFeePerGas),(0,h.q)(n.eip712).then(t=>null==t?void 0:t.gasPerPubdata)]);if(!p||!f||!g){let t=(0,r.getRpcClient)(n),h=await t({method:"zks_estimateFee",params:[{from:e.address,to:s,data:i,value:u?(0,a.eC)(u):void 0}]});p=o(h.gas_limit),f=2n*o(h.max_fee_per_gas),g=o(h.max_priority_fee_per_gas)||1n,d=2n*o(h.gas_per_pubdata_limit)}return{...await (0,c.n)({transaction:{...n,gas:p,maxFeePerGas:f,maxPriorityFeePerGas:g},from:e.address}),...n.eip712,gasPerPubdata:d,from:e.address}}},2050:function(t,e,n){function i(t){return"0x".concat(t.reduce((t,e)=>t+e.replace("0x",""),""))}n.r(e),n.d(e,{concatHex:function(){return i}})},92525:function(t,e,n){n.d(e,{$H:function(){return s},rU:function(){return i},zL:function(){return r}});let i=2n**16n-1n,s=2n**96n-1n,r=2n**256n-1n},68725:function(t,e,n){n.d(e,{LV:function(){return o}});var i=n(51273),s=n(3425),r=n(73596),a=n(15578);function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex",n=function t(e){return Array.isArray(e)?function(t){let e=t.reduce((t,e)=>t+e.length,0),n=u(e);return{length:e<=55?1+e:1+n+e,encode(i){for(let{encode:s}of(e<=55?i.pushByte(192+e):(i.pushByte(247+n),1===n?i.pushUint8(e):2===n?i.pushUint16(e):3===n?i.pushUint24(e):i.pushUint32(e)),t))s(i)}}}(e.map(e=>t(e))):function(t){let e="string"==typeof t?(0,r.nr)(t):t,n=u(e.length);return{length:1===e.length&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(t){1===e.length&&e[0]<128||(e.length<=55?t.pushByte(128+e.length):(t.pushByte(183+n),1===n?t.pushUint8(e.length):2===n?t.pushUint16(e.length):3===n?t.pushUint24(e.length):t.pushUint32(e.length))),t.pushBytes(e)}}}(e)}(t),i=(0,s.q)(new Uint8Array(n.length));return(n.encode(i),"hex"===e)?(0,a.ci)(i.bytes):i.bytes}function u(t){if(t<256)return 1;if(t<65536)return 2;if(t<16777216)return 3;if(t<4294967296)return 4;throw new i.G("Length is too large.")}},8842:function(t,e,n){n.d(e,{J:function(){return o}});var i=n(20230),s=n(21230),r=n(73596),a=n(15578);function o(t,e){let n=(0,i.J)((0,s.v)(t,{strict:!1})?(0,r.O0)(t):t);return"bytes"===(e||"hex")?n:(0,a.NC)(n)}}}]);