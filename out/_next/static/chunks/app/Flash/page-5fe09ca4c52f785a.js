(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37948],{9385:function(t,e,n){Promise.resolve().then(n.bind(n,95652))},41263:function(t,e,n){"use strict";n.d(e,{q:function(){return a}});let a=[{inputs:[{internalType:"address",name:"zsdAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"},{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"addToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"addUSDT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"zsdAmount",type:"uint256"}],name:"getAmountUSDTOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"getAmountZSDOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"projectUSDTPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"removeFromWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_usdtReserve",type:"uint256"}],name:"setUsdtReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ZsdReserve",type:"uint256"}],name:"setZsdReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdtReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountusdtToken",type:"uint256"}],name:"usdtTokenTozsdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"zsdReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"zsdtToken",outputs:[{internalType:"contract ZSD",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountzsdtToken",type:"uint256"}],name:"zsdtTokenTousdtTokenSwap",outputs:[],stateMutability:"nonpayable",type:"function"}]},18286:function(t,e,n){"use strict";n.r(e),n.d(e,{MenuContext:function(){return s},MenuProvider:function(){return i}});var a=n(3827),u=n(64090);let s=(0,u.createContext)({isRightMenuVisible:!1,toggleRightMenu:()=>{},hideRightMenu:()=>{}}),i=t=>{let{children:e}=t,[n,i]=(0,u.useState)(!1);return(0,a.jsx)(s.Provider,{value:{isRightMenuVisible:n,toggleRightMenu:()=>{i(t=>!t)},hideRightMenu:()=>{i(!1)}},children:e})}},24232:function(t,e,n){"use strict";n.d(e,{default:function(){return u.a}});var a=n(24930),u=n.n(a)},24930:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s}});let a=n(86921);n(3827),n(64090);let u=a._(n(84795));function s(t,e){let n={loading:t=>{let{error:e,isLoading:n,pastDelay:a}=t;return null}};return"function"==typeof t&&(n.loader=t),(0,u.default)({...n,...e})}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},84795:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});let a=n(3827),u=n(64090),s=n(19721);function i(t){var e;return{default:null!=(e=null==t?void 0:t.default)?e:t}}let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},o=function(t){let e={...l,...t},n=(0,u.lazy)(()=>e.loader().then(i)),o=e.loading;function r(t){let i=o?(0,a.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,l=e.ssr?(0,a.jsx)(n,{...t}):(0,a.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(n,{...t})});return(0,a.jsx)(u.Suspense,{fallback:i,children:l})}return r.displayName="LoadableComponent",r}},95652:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return V}});var a=n(3827),u=n(64090),s=n(24232),i=n(18286),l=n(39),o=n(22665),r=n(80588),d=n(38302),c=n(28683),p=n(4779),y=n(59127),m=n(87741),f=n(47275),b=n(94293),h=n(14698),_=n(46188),T=n(73107),g=n(47013),S=n(3858),v=n(54185),x=n.n(v),j=n(66403),w=n(47822),D=n(41263),C=n(37432),M=n(71007),Z=n(21427);let F=(0,m.P)({clientId:"1283d713ed4b644af8c26898225cd1ca"}),k=C.T,P=D.q,N=M.u,R=Z.F;(0,f.getContract)({client:F,address:j.c.USDTaddress,chain:w.e,abi:k});let U=(0,f.getContract)({client:F,address:j.c.ZSDSwapAddress,abi:P,chain:w.e});(0,f.getContract)({client:F,address:j.c.ZSDaddress,abi:N,chain:w.e});let A=(0,f.getContract)({client:F,address:j.c.ZSDPROJECTAddress,chain:w.e,abi:R}),{Option:O}=l.default;var z=()=>{let[t]=o.Z.useForm(),e=(0,g.M)(),{mutate:n,isPending:s}=(0,S.p)(),[i,m]=(0,u.useState)(0),[f,v]=(0,u.useState)(0),[j,w]=(0,u.useState)(!1),[D,C]=(0,u.useState)(0),M=(0,a.jsx)(l.default,{defaultValue:"ZSD",className:"select-after",children:(0,a.jsx)(O,{value:"ZSD",children:"ZSD"})}),Z=(0,a.jsx)(l.default,{defaultValue:"USDT",className:"select-after",children:(0,a.jsx)(O,{value:"USDT",children:"USDT"})}),F=async()=>{try{let t=(await (0,b.readContract)({contract:U,method:"function getAmountZSDOut(uint256) view returns (uint256)",params:[BigInt(1e18)]})).toString();m(t)}catch(t){console.error("查询失败:",t)}},k=async t=>{try{let e=await T.Z.get("https://api.zsd.cx/",{params:{key:t},timeout:5e3}),n=new Date,a=n.getFullYear(),u=(n.getMonth()+1).toString().padStart(2,"0"),s=n.getDate().toString().padStart(2,"0"),i="".concat(a,"-").concat(u,"-").concat(s);if(200===e.status)return e.data.value==i&&w(!0),e.data;console.error("查询失败，状态码：",e.status)}catch(t){console.error("请求错误:",t)}},P=async()=>{let t=new Date(new Date().toString()),n=t.getFullYear(),a=(t.getMonth()+1).toString().padStart(2,"0"),u=t.getDate().toString().padStart(2,"0"),s="".concat(n,"-").concat(a,"-").concat(u),i={key:e.address,value:s};await T.Z.post("https://api.zsd.cx/",i,{headers:{"Content-Type":"application/json"}})},N=async n=>{w(!0);try{let a=await (0,b.readContract)({contract:A,method:"users",params:[e.address]}),u=(Number(a[2])/1e18).toFixed(8),s=await (0,b.readContract)({contract:U,method:"function getAmountZSDOut(uint256) view returns (uint256)",params:[BigInt(1e18)]}),i=1/(Number(s.toString())/1e18);if(Number(.005*u/i)<=Number(n.USDT_one_amount)){r.ZP.info("您的兑换不能超过今日可提取额度！");return}let l=1e18*n.USDT_one_amount,o=(0,h.A)({contract:U,method:"function zsdtTokenTousdtTokenSwap(uint256 amountzsdtToken)",params:[BigInt(l)]});await (0,_.B)({transaction:o,account:e}),t.setFieldsValue({USDT_one_amount:"",ZSD_two_amount:""}),P()}catch(e){t.setFieldsValue({USDT_one_amount:"",ZSD_two_amount:""})}},R=async t=>{try{let e=await (0,b.readContract)({contract:A,method:"users",params:[t]}),n=Number(e[3].toString())/1e18;C(n)}catch(t){console.error("查询余额失败:",t)}};return(0,u.useEffect)(()=>{e&&(k(e.address),v(e.address),R(e.address))},[e]),(0,u.useEffect)(()=>{F()},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:x().Content,children:[(0,a.jsx)("span",{className:x().ContentText,children:"交易所"}),(0,a.jsxs)(o.Z,{name:"amount",onFinish:N,form:t,layout:"vertical",style:{color:"white"},children:[(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(o.Z.Item,{label:(0,a.jsx)("span",{className:x().Contentlabel,children:"代币兑换"}),colon:!1,name:"USDT_one_amount",children:(0,a.jsx)(p.Z,{addonAfter:M,placeholder:"请输入数量",className:x().inputstyle,onChange:e=>{let n=e.target.value/i*1e18;t.setFieldsValue({ZSD_two_amount:n})}})})}),(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(o.Z.Item,{colon:!1,name:"ZSD_two_amount",children:(0,a.jsx)(p.Z,{addonAfter:Z,className:x().inputstyle,disabled:!0})})})]}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(o.Z.Item,{children:(0,a.jsx)(y.ZP,{type:"primary",htmlType:"submit",className:j?x().buttonstyleflg:x().buttonstyle,disabled:j,children:j?"今日已兑换":"兑换"})})})})]})]})})};let I=(0,s.default)(()=>Promise.all([n.e(75178),n.e(3883),n.e(76295),n.e(84105),n.e(75604),n.e(58183)]).then(n.bind(n,80401)),{loadableGenerated:{webpack:()=>[80401]},ssr:!0});var V=()=>(0,a.jsxs)(i.MenuProvider,{children:[(0,a.jsx)(I,{}),(0,a.jsx)(z,{})]})},54185:function(t){t.exports={Content:"Flash_Content__0Di5s",inputstyle:"Flash_inputstyle__FrTRi",buttonstyle:"Flash_buttonstyle__XJ9v2",buttonstyleflg:"Flash_buttonstyleflg__hFJs8",buttonHelpFriendstyle:"Flash_buttonHelpFriendstyle__edK_e",ContentText:"Flash_ContentText__03CFH",ContentInstructions:"Flash_ContentInstructions__ZQ4um",Contentlabel:"Flash_Contentlabel__SqV4P",labelContainer:"Flash_labelContainer__TD6eR",labelLeft:"Flash_labelLeft__ePHyJ",labelRight:"Flash_labelRight__pbzFc",CalculatedValue:"Flash_CalculatedValue__rfI2a",Ustyle:"Flash_Ustyle__5tdUd"}}},function(t){t.O(0,[8310,21358,83558,26602,88981,39,79844,92971,8069,1744],function(){return t(t.s=9385)}),_N_E=t.O()}]);